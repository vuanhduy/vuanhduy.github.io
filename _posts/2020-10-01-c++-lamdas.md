---
layout: post
title:  "C++ lambdas"
date:   2020-10-1 10:56:33 -0400
categories: [C++ programming language]
tags: ["C++"]
toc: true
---

This post is a set of notes that I learn about lambdas in C++ from [this page.](https://www.learncpp.com/cpp-tutorial/introduction-to-lambdas-anonymous-functions/)

## Overview

Lambdas in C++ are not functions but special objects of `functor`, which contain an overloaded `operator()` making them callable like a function. They also have a very weird syntax:
    ```C++
    [ captureClause ] ( parameters ) -> returnType
    {
        statements;
    }
    ```

  where:
  - `captureClause` is used to (indirectly) give a lambda access to variables available in the surrounding scop. Note that a lambda with an emtpy `captureClause` can access only global identifiers, entities that are known at compile time, and entities with static storage duration.
  - `parameters` and `returnType` are similar to those of a function. However, the `returnType` can be omitted. In this case, `auto` will be assumed, and type inference from return statements, which are inside the body of the lambda, is used to determine the return type.

Here is a simple example of C++ lambda:
```C++
// This code is copied from https://www.learncpp.com/cpp-tutorial/introduction-to-lambdas-anonymous-functions/

#include <algorithm>
#include <array>
#include <iostream>
#include <string_view>
 
int main()
{
    constexpr std::array<std::string_view, 4> arr{ "apple", "banana", "walnut", "lemon" };
  
    // Define the function right where we use it.
    const auto found{ std::find_if(arr.begin(), arr.end(),
                            [](std::string_view str) // here's our lambda, no capture clause
                            {
                                return (str.find("nut") != std::string_view::npos);
                            }) };
  
    if (found == arr.end())
    {
      std::cout << "No nuts\n";
    }
    else
    {
      std::cout << "Found " << *found << '\n';
    }
  
    return 0;
}

// Output of the program is: Found walnut
```

## Lambda variables

- can be assigned to a variable (i.e., declaring a lambda) and then used latter.


    Unlike Python, lambdas in c++ 